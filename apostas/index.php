<?php @session_start();<?php if (file_exists('./conexao.php'))<?php {<?php include('./conexao.php');<?php 
}<?php elseif (file_exists('../conexao.php'))<?php {<?php include('../conexao.php');<?php 
}<?php elseif (file_exists('../../conexao.php'))<?php {<?php include('../../conexao.php');<?php 
}<?php if (!isset($_SESSION['usuario_id']))<?php {<?php $_SESSION['message']<?php =<?php ['type'<?php =><?php 'warning',<?php 'text'<?php =><?php 'Você<?php precisa estar logado para acessar esta página!'];<?php header("Location:<?php /login");<?php exit;<?php 
}<?php $usuario_id =<?php $_SESSION['usuario_id'];<?php 
$porPagina =<?php 10;<?php //<?php apostas por página $paginaAtual =<?php isset($_GET['pagina'])<?php ?<?php max(1,<?php intval($_GET['pagina']))<?php :<?php 1;<?php 
$offset =<?php ($paginaAtual -<?php 1)<?php *<?php $porPagina;<?php //<?php Obter total de apostas try {<?php $stmtTotal =<?php $pdo->prepare("SELECT COUNT(*)<?php FROM orders WHERE user_id =<?php :user_id");<?php $stmtTotal->bindParam(':user_id',<?php $usuario_id,<?php PDO::PARAM_INT);<?php $stmtTotal->execute();<?php $totalApostas =<?php $stmtTotal->fetchColumn();<?php $totalPaginas =<?php ceil($totalApostas /<?php $porPagina);<?php 
}<?php catch (PDOException $e)<?php {<?php $totalApostas =<?php 0;<?php $totalPaginas =<?php 1;<?php 
}<?php //<?php Buscar apostas paginadas try {<?php $stmt =<?php $pdo->prepare("<?php SELECT o.created_at,<?php o.resultado,<?php o.valor_ganho,<?php r.nome,<?php r.valor AS valor_apostado <?php FROM orders o <?php JOIN raspadinhas r ON o.raspadinha_id =<?php r.id <?php WHERE o.user_id =<?php :user_id <?php ORDER BY o.created_at DESC <?php LIMIT :limit OFFSET :offset <?php ");<?php $stmt->bindParam(':user_id',<?php $usuario_id,<?php PDO::PARAM_INT);<?php $stmt->bindParam(':limit',<?php $porPagina,<?php PDO::PARAM_INT);<?php $stmt->bindParam(':offset',<?php $offset,<?php PDO::PARAM_INT);<?php $stmt->execute();<?php $apostas =<?php $stmt->fetchAll(PDO::FETCH_ASSOC);<?php 
}<?php catch (PDOException $e)<?php {<?php $apostas =<?php [];<?php $_SESSION['message']<?php =<?php ['type'<?php =><?php 'failure',<?php 'text'<?php =><?php 'Erro ao carregar apostas'];<?php 
}<?php 
?><?php 
<!DOCTYPE html><?php 
<html lang="pt-br"><?php 
<head><?php <meta charset="UTF-8"><?php <meta name="viewport"<?php content="width=device-width,<?php initial-scale=1.0"><?php <title><?php echo $nomeSite;?><?php -<?php Minhas Apostas</title><?php <?php <!--<?php Fonts --><?php <link rel="preconnect"<?php href="https://fonts.googleapis.com"><?php <link rel="preconnect"<?php href="https://fonts.gstatic.com"<?php crossorigin><?php <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"<?php rel="stylesheet"><?php <?php <!--<?php Icons --><?php <link rel="stylesheet"<?php href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"><?php <?php <!--<?php Styles --><?php <link rel="stylesheet"<?php href="/assets/style/globalStyles.css?id=<?php=<?php time();<?php ?>"><?php <?php <!--<?php Scripts --><?php <script src="https://cdn.jsdelivr.net/npm/notiflix@3.2.8/dist/notiflix-aio-3.2.8.min.js"></script><?php <link href="https://cdn.jsdelivr.net/npm/notiflix@3.2.8/src/notiflix.min.css"<?php rel="stylesheet"><?php <?php <style><?php /*<?php Page Styles */<?php .apostas-section {<?php margin-top:<?php 100px;<?php padding:<?php 4rem 0;<?php background:<?php #0a0a0a;<?php min-height:<?php calc(100vh -<?php 200px);<?php }<?php <?php .apostas-container {<?php max-width:<?php 850px;<?php margin:<?php 0 auto;<?php padding:<?php 0 2rem;<?php }<?php <?php /*<?php Header Card */<?php .header-card {<?php background:<?php linear-gradient(135deg,<?php rgba(34,<?php 197,<?php 94,<?php 0.1),<?php rgba(16,<?php 163,<?php 74,<?php 0.05));<?php border:<?php 1px solid rgba(34,<?php 197,<?php 94,<?php 0.2);<?php border-radius:<?php 24px;<?php padding:<?php 2rem;<?php margin-bottom:<?php 3rem;<?php position:<?php relative;<?php overflow:<?php hidden;<?php }<?php <?php .header-card::before {<?php content:<?php '';<?php position:<?php absolute;<?php top:<?php -50%;<?php right:<?php -50%;<?php width:<?php 200px;<?php height:<?php 200px;<?php background:<?php linear-gradient(45deg,<?php rgba(34,<?php 197,<?php 94,<?php 0.1),<?php transparent);<?php border-radius:<?php 50%;<?php animation:<?php float 6s ease-in-out infinite;<?php }<?php <?php .header-card::after {<?php content:<?php '';<?php position:<?php absolute;<?php bottom:<?php -50%;<?php left:<?php -50%;<?php width:<?php 150px;<?php height:<?php 150px;<?php background:<?php linear-gradient(45deg,<?php rgba(34,<?php 197,<?php 94,<?php 0.05),<?php transparent);<?php border-radius:<?php 50%;<?php animation:<?php float 8s ease-in-out infinite reverse;<?php }<?php <?php @keyframes float {<?php 0%,<?php 100%<?php {<?php transform:<?php translateY(0)<?php rotate(0deg);<?php }<?php 50%<?php {<?php transform:<?php translateY(-20px)<?php rotate(180deg);<?php }<?php }<?php <?php .header-icon {<?php width:<?php 80px;<?php height:<?php 80px;<?php margin:<?php 0 auto 1.5rem;<?php display:<?php flex;<?php align-items:<?php center;<?php justify-content:<?php center;<?php background:<?php linear-gradient(135deg,<?php rgba(34,<?php 197,<?php 94,<?php 0.2),<?php rgba(16,<?php 163,<?php 74,<?php 0.1));<?php border-radius:<?php 50%;<?php border:<?php 1px solid rgba(34,<?php 197,<?php 94,<?php 0.3);<?php position:<?php relative;<?php z-index:<?php 2;<?php }<?php <?php .header-icon i {<?php font-size:<?php 2rem;<?php color:<?php #22c55e;<?php }<?php <?php .header-title {<?php color:<?php white;<?php font-size:<?php 2.5rem;<?php font-weight:<?php 900;<?php text-align:<?php center;<?php margin-bottom:<?php 1rem;<?php position:<?php relative;<?php z-index:<?php 2;<?php }<?php <?php .header-subtitle {<?php color:<?php #e5e7eb;<?php font-size:<?php 1.1rem;<?php text-align:<?php center;<?php opacity:<?php 0.8;<?php position:<?php relative;<?php z-index:<?php 2;<?php }<?php <?php /*<?php Stats Cards */<?php .stats-grid {<?php display:<?php grid;<?php grid-template-columns:<?php repeat(auto-fit,<?php minmax(200px,<?php 1fr));<?php gap:<?php 1rem;<?php margin-bottom:<?php 1.5rem;<?php }<?php <?php .stat-card {<?php background:<?php rgba(0,<?php 0,<?php 0,<?php 0.3);<?php border:<?php 1px solid rgba(34,<?php 197,<?php 94,<?php 0.2);<?php border-radius:<?php 16px;<?php padding:<?php 1.5rem;<?php text-align:<?php center;<?php transition:<?php all 0.3s ease;<?php }<?php <?php .stat-card:hover {<?php border-color:<?php rgba(34,<?php 197,<?php 94,<?php 0.4);<?php transform:<?php translateY(-2px);<?php }<?php <?php .stat-icon {<?php font-size:<?php 2rem;<?php color:<?php #22c55e;<?php margin-bottom:<?php 0.5rem;<?php }<?php <?php .stat-value {<?php font-size:<?php 1.5rem;<?php font-weight:<?php 700;<?php color:<?php white;<?php margin-bottom:<?php 0.25rem;<?php }<?php <?php .stat-label {<?php color:<?php #9ca3af;<?php font-size:<?php 0.9rem;<?php }<?php <?php /*<?php Main Container */<?php .main-container {<?php background:<?php rgba(20,<?php 20,<?php 20,<?php 0.8);<?php border:<?php 1px solid rgba(255,<?php 255,<?php 255,<?php 0.1);<?php border-radius:<?php 24px;<?php padding:<?php 2rem;<?php backdrop-filter:<?php blur(20px);<?php box-shadow:<?php 0 20px 60px rgba(0,<?php 0,<?php 0,<?php 0.5);<?php }<?php <?php .main-title {<?php color:<?php white;<?php font-size:<?php 1.5rem;<?php font-weight:<?php 700;<?php text-align:<?php center;<?php margin-bottom:<?php 2rem;<?php display:<?php flex;<?php align-items:<?php center;<?php justify-content:<?php center;<?php gap:<?php 0.5rem;<?php }<?php <?php /*<?php Empty State */<?php .empty-state {<?php text-align:<?php center;<?php padding:<?php 4rem 2rem;<?php color:<?php #9ca3af;<?php }<?php <?php .empty-state i {<?php font-size:<?php 4rem;<?php color:<?php #22c55e;<?php margin-bottom:<?php 1.5rem;<?php opacity:<?php 0.7;<?php }<?php <?php .empty-state h3 {<?php font-size:<?php 1.5rem;<?php margin-bottom:<?php 0.5rem;<?php color:<?php #e5e7eb;<?php }<?php <?php .empty-state p {<?php font-size:<?php 1rem;<?php opacity:<?php 0.8;<?php }<?php <?php /*<?php Bet Items */<?php .bet-item {<?php background:<?php rgba(0,<?php 0,<?php 0,<?php 0.3);<?php border:<?php 1px solid rgba(34,<?php 197,<?php 94,<?php 0.1);<?php border-radius:<?php 16px;<?php padding:<?php 1.5rem;<?php margin-bottom:<?php 1rem;<?php transition:<?php all 0.3s ease;<?php position:<?php relative;<?php overflow:<?php hidden;<?php }<?php <?php .bet-item::before {<?php content:<?php '';<?php position:<?php absolute;<?php top:<?php 0;<?php left:<?php 0;<?php width:<?php 4px;<?php height:<?php 100%;<?php opacity:<?php 0;<?php transition:<?php opacity 0.3s ease;<?php }<?php <?php .bet-item.win::before {<?php background:<?php linear-gradient(135deg,<?php #22c55e,<?php #16a34a);<?php opacity:<?php 1;<?php }<?php <?php .bet-item.lose::before {<?php background:<?php linear-gradient(135deg,<?php #ef4444,<?php #dc2626);<?php opacity:<?php 1;<?php }<?php <?php .bet-item:hover {<?php border-color:<?php rgba(34,<?php 197,<?php 94,<?php 0.3);<?php transform:<?php translateY(-2px);<?php box-shadow:<?php 0 10px 30px rgba(0,<?php 0,<?php 0,<?php 0.3);<?php }<?php <?php .bet-header {<?php display:<?php flex;<?php justify-content:<?php space-between;<?php align-items:<?php center;<?php margin-bottom:<?php 1rem;<?php }<?php <?php .bet-date {<?php display:<?php flex;<?php align-items:<?php center;<?php gap:<?php 0.5rem;<?php color:<?php #9ca3af;<?php font-size:<?php 0.9rem;<?php }<?php <?php .bet-date i {<?php color:<?php #22c55e;<?php }<?php <?php .bet-status {<?php display:<?php flex;<?php align-items:<?php center;<?php gap:<?php 0.5rem;<?php padding:<?php 0.5rem 1rem;<?php border-radius:<?php 25px;<?php font-size:<?php 0.8rem;<?php font-weight:<?php 600;<?php text-transform:<?php uppercase;<?php letter-spacing:<?php 0.5px;<?php }<?php <?php .bet-status.win {<?php background:<?php linear-gradient(135deg,<?php rgba(34,<?php 197,<?php 94,<?php 0.2),<?php rgba(16,<?php 163,<?php 74,<?php 0.1));<?php color:<?php #22c55e;<?php border:<?php 1px solid rgba(34,<?php 197,<?php 94,<?php 0.3);<?php }<?php <?php .bet-status.lose {<?php background:<?php linear-gradient(135deg,<?php rgba(239,<?php 68,<?php 68,<?php 0.2),<?php rgba(220,<?php 38,<?php 38,<?php 0.1));<?php color:<?php #ef4444;<?php border:<?php 1px solid rgba(239,<?php 68,<?php 68,<?php 0.3);<?php }<?php <?php .bet-content {<?php display:<?php grid;<?php grid-template-columns:<?php 1fr auto;<?php gap:<?php 1rem;<?php align-items:<?php center;<?php }<?php <?php .bet-details {<?php color:<?php #e5e7eb;<?php }<?php <?php .bet-game {<?php font-weight:<?php 600;<?php font-size:<?php 1.1rem;<?php margin-bottom:<?php 0.5rem;<?php }<?php <?php .bet-values {<?php display:<?php flex;<?php flex-direction:<?php column;<?php gap:<?php 0.25rem;<?php font-size:<?php 0.9rem;<?php }<?php <?php .bet-value {<?php display:<?php flex;<?php justify-content:<?php space-between;<?php align-items:<?php center;<?php }<?php <?php .bet-value-label {<?php color:<?php #9ca3af;<?php }<?php <?php .bet-value-amount {<?php font-weight:<?php 600;<?php }<?php <?php .bet-value-amount.win {<?php color:<?php #22c55e;<?php }<?php <?php .bet-value-amount.lose {<?php color:<?php #ef4444;<?php }<?php <?php .bet-summary {<?php text-align:<?php right;<?php padding:<?php 1rem;<?php background:<?php rgba(0,<?php 0,<?php 0,<?php 0.2);<?php border-radius:<?php 12px;<?php border:<?php 1px solid rgba(255,<?php 255,<?php 255,<?php 0.1);<?php }<?php <?php .bet-summary-value {<?php font-size:<?php 1.2rem;<?php font-weight:<?php 700;<?php margin-bottom:<?php 0.25rem;<?php }<?php <?php .bet-summary-label {<?php color:<?php #9ca3af;<?php font-size:<?php 0.8rem;<?php }<?php <?php /*<?php Pagination */<?php .pagination {<?php display:<?php flex;<?php justify-content:<?php center;<?php align-items:<?php center;<?php gap:<?php 0.5rem;<?php margin-top:<?php 2rem;<?php flex-wrap:<?php wrap;<?php }<?php <?php .pagination-item {<?php padding:<?php 0.75rem 1rem;<?php border-radius:<?php 12px;<?php font-weight:<?php 600;<?php font-size:<?php 0.9rem;<?php text-decoration:<?php none;<?php transition:<?php all 0.3s ease;<?php border:<?php 1px solid rgba(255,<?php 255,<?php 255,<?php 0.1);<?php }<?php <?php .pagination-item:hover {<?php transform:<?php translateY(-1px);<?php }<?php <?php .pagination-item.active {<?php background:<?php linear-gradient(135deg,<?php #22c55e,<?php #16a34a);<?php color:<?php white;<?php border-color:<?php rgba(34,<?php 197,<?php 94,<?php 0.3);<?php box-shadow:<?php 0 4px 16px rgba(34,<?php 197,<?php 94,<?php 0.2);<?php }<?php <?php .pagination-item:not(.active)<?php {<?php background:<?php rgba(0,<?php 0,<?php 0,<?php 0.3);<?php color:<?php #9ca3af;<?php }<?php <?php .pagination-item:not(.active):hover {<?php background:<?php rgba(34,<?php 197,<?php 94,<?php 0.1);<?php color:<?php #22c55e;<?php border-color:<?php rgba(34,<?php 197,<?php 94,<?php 0.2);<?php }<?php <?php /*<?php Responsive */<?php @media (max-width:<?php 768px)<?php {<?php .apostas-container {<?php padding:<?php 0 1rem;<?php }<?php <?php .header-title {<?php font-size:<?php 2rem;<?php }<?php <?php .main-container {<?php padding:<?php 1.5rem;<?php }<?php <?php .bet-content {<?php grid-template-columns:<?php 1fr;<?php gap:<?php 1rem;<?php }<?php <?php .bet-summary {<?php text-align:<?php center;<?php }<?php <?php .bet-values {<?php font-size:<?php 0.8rem;<?php }<?php }<?php <?php @media (max-width:<?php 480px)<?php {<?php .header-title {<?php font-size:<?php 1.8rem;<?php }<?php <?php .bet-header {<?php flex-direction:<?php column;<?php gap:<?php 0.5rem;<?php align-items:<?php stretch;<?php }<?php <?php .bet-status {<?php align-self:<?php flex-end;<?php }<?php }<?php <?php /*<?php Loading Animation */<?php .loading-pulse {<?php animation:<?php pulse 2s ease-in-out infinite;<?php }<?php <?php @keyframes pulse {<?php 0%,<?php 100%<?php {<?php opacity:<?php 1;<?php }<?php 50%<?php {<?php opacity:<?php 0.5;<?php }<?php }<?php </style><?php 
</head><?php 
<body><?php <?php include('../inc/header.php');<?php ?><?php <?php <section class="apostas-section"><?php <div class="apostas-container"><?php <!--<?php Header Card --><?php <div class="header-card"><?php <div class="header-icon"><?php <i class="bi bi-dice-5"></i><?php </div><?php <h1 class="header-title">Minhas Apostas</h1><?php <p class="header-subtitle">Acompanhe seu histórico de jogos e resultados</p><?php </div><?php <?php <!--<?php Main Container --><?php <div class="main-container"><?php <!--<?php Stats Grid --><?php <div class="stats-grid"><?php <div class="stat-card"><?php <div class="stat-icon"><?php <i class="bi bi-collection"></i><?php </div><?php <div class="stat-value"><?php=<?php $totalApostas ?></div><?php <div class="stat-label">Total de Apostas</div><?php </div><?php <div class="stat-card"><?php <div class="stat-icon"><?php <i class="bi bi-file-earmark-text"></i><?php </div><?php <div class="stat-value"><?php=<?php $paginaAtual ?>/<?php=<?php $totalPaginas ?></div><?php <div class="stat-label">Página Atual</div><?php </div><?php <div class="stat-card"><?php <div class="stat-icon"><?php <i class="bi bi-grid-3x3"></i><?php </div><?php <div class="stat-value"><?php=<?php count($apostas)<?php ?></div><?php <div class="stat-label">Nesta Página</div><?php </div><?php </div><?php <?php <h2 class="main-title"><?php <i class="bi bi-trophy"></i><?php Histórico de Jogos <?php </h2><?php <?php <?php if (empty($apostas)):<?php ?><?php <div class="empty-state"><?php <i class="bi bi-dice-1"></i><?php <h3>Nenhuma aposta encontrada</h3><?php <p>Quando você<?php jogar uma raspadinha,<?php ela aparecerá<?php aqui</p><?php </div><?php <?php else:<?php ?><?php <div class="bets-list"><?php <?php foreach ($apostas as $aposta):<?php ?><?php <?php <?php $data =<?php date('d/m/Y H:i',<?php strtotime($aposta['created_at']));<?php $isWin =<?php ($aposta['resultado']<?php ===<?php 'gain');<?php $status =<?php $isWin ?<?php 'GANHOU'<?php :<?php 'PERDEU';<?php $statusClass =<?php $isWin ?<?php 'win'<?php :<?php 'lose';<?php $valorGanho =<?php number_format($aposta['valor_ganho'],<?php 2,<?php ',',<?php '.');<?php $valorApostado =<?php number_format($aposta['valor_apostado'],<?php 2,<?php ',',<?php '.');<?php ?><?php <div class="bet-item <?php=<?php $statusClass ?>"><?php <div class="bet-header"><?php <div class="bet-date"><?php <i class="bi bi-calendar-event"></i><?php <span><?php=<?php $data ?></span><?php </div><?php <div class="bet-status <?php=<?php $statusClass ?>"><?php <i class="bi bi-<?php=<?php $isWin ?<?php 'trophy-fill'<?php :<?php 'x-circle-fill'<?php ?>"></i><?php <?php=<?php $status ?><?php </div><?php </div><?php <?php <div class="bet-content"><?php <div class="bet-details"><?php <div class="bet-game"><?php <i class="bi bi-gem"></i><?php <?php=<?php htmlspecialchars($aposta['nome'])<?php ?><?php </div><?php <div class="bet-values"><?php <div class="bet-value"><?php <span class="bet-value-label">Valor Apostado:</span><?php <span class="bet-value-amount">R$<?php <?php=<?php $valorApostado ?></span><?php </div><?php <div class="bet-value"><?php <span class="bet-value-label">Valor Ganho:</span><?php <span class="bet-value-amount <?php=<?php $statusClass ?>">R$<?php <?php=<?php $valorGanho ?></span><?php </div><?php </div><?php </div><?php <?php <div class="bet-summary"><?php <div class="bet-summary-value <?php=<?php $statusClass ?>"><?php <?php=<?php $isWin ?<?php '+'<?php :<?php ''<?php ?>R$<?php <?php=<?php number_format($aposta['valor_ganho']<?php -<?php $aposta['valor_apostado'],<?php 2,<?php ',',<?php '.')<?php ?><?php </div><?php <div class="bet-summary-label"><?php <?php=<?php $isWin ?<?php 'Lucro'<?php :<?php 'Perda'<?php ?><?php </div><?php </div><?php </div><?php </div><?php <?php endforeach;<?php ?><?php </div><?php <?php <!--<?php Pagination --><?php <?php if ($totalPaginas ><?php 1):<?php ?><?php <div class="pagination"><?php <?php for ($i =<?php 1;<?php $i <=<?php $totalPaginas;<?php $i++):<?php ?><?php <a href="?pagina=<?php=<?php $i ?>"<?php class="pagination-item <?php=<?php $i ==<?php $paginaAtual ?<?php 'active'<?php :<?php ''<?php ?>"><?php <?php=<?php $i ?><?php </a><?php <?php endfor;<?php ?><?php </div><?php <?php endif;<?php ?><?php <?php endif;<?php ?><?php </div><?php </div><?php </section><?php <?php <?php include('../inc/footer.php');<?php ?><?php <?php include('../components/modals.php');<?php ?><?php <?php <script><?php //<?php Initialize <?php document.addEventListener('DOMContentLoaded',<?php function()<?php {<?php console.log('%c🎲<?php Apostas carregadas!',<?php 'color:<?php #22c55e;<?php font-size:<?php 16px;<?php font-weight:<?php bold;');<?php <?php //<?php Add hover effects to bet items <?php document.querySelectorAll('.bet-item').forEach(item =><?php {<?php item.addEventListener('mouseenter',<?php function()<?php {<?php this.style.transform =<?php 'translateY(-2px)';<?php });<?php <?php item.addEventListener('mouseleave',<?php function()<?php {<?php this.style.transform =<?php 'translateY(0)';<?php });<?php });<?php <?php //<?php Add click effect to pagination <?php document.querySelectorAll('.pagination-item').forEach(item =><?php {<?php item.addEventListener('click',<?php function()<?php {<?php if (!this.classList.contains('active'))<?php {<?php this.style.transform =<?php 'scale(0.95)';<?php setTimeout(()<?php =><?php {<?php this.style.transform =<?php '';<?php },<?php 150);<?php }<?php });<?php });<?php });<?php </script><?php 
</body><?php 
</html>